<%# user card %>
<a href="#">
  <%= render partial: 'shared/user_card', locals: { user: @user } %>
</a>
<div class="btn-container">
  <p class="btn"><%= link_to "Add Post", new_user_post_path %></p> <!-- Fixed unclosed <p> tag here -->
</div>
<%# only authorized users %>
<% @posts.each do |post| %>
  <a href="/users/<%= post.author_id %>/posts/<%= post.id %>">
    <%= render partial: 'shared/post_card', locals: { post: post } %>
  </a>
  <% if can? :destroy, post %>
    <!-- Display the "Delete" button for authorized users -->
    <%= link_to 'Delete', user_post_path(@user, post), method: :delete, data: { confirm: 'Are you sure?' } %>
  <% end %>
<% end %>

<%# post card %>
<% @posts.each do |post| %>
  <a href="/users/<%= post.author_id %>/posts/<%= post.id %>">
    <%= render partial: 'shared/post_card', locals: { post: post } %>
  </a>
  <%# comment card %>

  <div class="comments">
    <% if post.most_recent_comments.any? %>
      <ul>
        <% post.most_recent_comments.each do |comment| %>
          <li>
            <%= render partial: 'shared/comment_card', locals: { comment: comment } %>
          </li>
        <% end %>
      </ul>
    <% else %>
     <p>No recent comments found.</p>
    <% end %>
  </div>
<% end %>
